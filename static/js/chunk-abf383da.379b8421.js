(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-abf383da"],{1827:function(e,t,a){"use strict";a("da1d")},"20ca":function(e,t,a){"use strict";var n=a("2ef0"),i=a.n(n),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return i.a.debounce(e,t,{leading:!0,trailing:!1})};t["a"]=s},"50c1":function(e,t,a){"use strict";a("ce81")},"5d83":function(e,t,a){},"626f":function(e,t,a){"use strict";a("a955")},"6c57":function(e,t,a){"use strict";a("5d83")},9406:function(e,t,a){"use strict";a.r(t);var n,i,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Dashboard"},[a("div",{staticClass:"basic-block block1"},[e._m(0),a("div",{staticClass:"refresh-block"},[a("span",{staticClass:"refresh",on:{click:e.d_getData}},[a("i",[e._v("刷新时间 : "+e._s(e._f("parseTime")(e.updateTime,"{y}/{m}/{d} {h}:{i}:{s}")))]),a("b",[e._v("刷新")])])]),a("ul",e._l(e.sortInfo,(function(t,n){return a("li",{key:n},[a("span",[a("svg-icon",{attrs:{"icon-class":t.icon}}),e._v(e._s(t.label)+" "),a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[a("span",[e._v("试算当前可得的佣金比例, 每月佣金结算后重新计算")]),a("span",{attrs:{slot:"reference"},slot:"reference"},["佣金比例"===t.label?a("svg-icon",{attrs:{id:"q-hint","icon-class":"Warning"}}):e._e()],1)])],1),a("b",[e._v(e._s(e.dashboardthousandFilter(t)))])])})),0)]),a("div",{staticClass:"basic-block block2"},[a("div",{staticClass:"block-title"},[e._v("趋势分析")]),a("Charts",{ref:"chart",attrs:{"new-member":e.RegeditMemberByDay,logined:e.LoginMemberByDay}})],1),a("div",{staticClass:"blocks-row"},[a("div",{staticClass:"basic-block block3"},[a("div",{staticClass:"block-title system"},[e._v("系統公告")]),a("SystemBoard",{attrs:{list:e.systemList,length:e.listLength}})],1),a("div",{staticClass:"basic-block block4"},[a("Jumbotron",{attrs:{list:e.banner}})],1)])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block-title"},[a("span",[e._v("营运数据")])])}],o=(a("4de4"),a("d81d"),a("b680"),a("a9e3"),a("ac1f"),a("1276"),a("5319"),a("2ef0")),c=a.n(o),l=a("313e"),u=a.n(l),d=function(e,t,a){return{tooltip:{trigger:"axis"},dataZoom:[{type:"inside",start:0,end:100,minValueSpan:5}],grid:{left:35,right:15,bottom:50,height:"60%"},legend:{data:["新注册会员数","会员登录数"],right:10,itemGap:35,formatter:function(e){var t;return t="新注册会员数"===e?"{a|".concat(e,"}"):"{b|".concat(e,"}"),t},textStyle:{fontSize:13,rich:{a:{color:"#658dd4"},b:{color:"#bbbcf1"}}},icon:"circle"},xAxis:{type:"category",axisTick:{show:!1},axisLabel:{margin:15},axisLine:{lineStyle:{color:"#7f95c5"}},boundaryGap:!1,data:a},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{margin:15},axisLine:{lineStyle:{color:"#7f95c5"}},splitLine:{lineStyle:{color:"#dceaff"}},splitArea:{show:!0,areaStyle:{color:["#fff","#F1F6FF"]}}},series:[{symbol:"circle",symbolSize:10,name:"新注册会员数",data:e,type:"line",lineStyle:{color:"#658dd4",width:3},itemStyle:{color:"#658dd4"}},{symbol:"circle",symbolSize:10,name:"会员登录数",data:t,type:"line",lineStyle:{color:"#bbbcf1",width:3},itemStyle:{color:"#bbbcf1"}}]}},b={name:"Charts",props:{newMember:{type:Object,default:function(){return{}}},logined:{type:Object,default:function(){return{}}}},data:function(){return{chart:null}},watch:{"$store.state.app.size":function(){this.chart.resize()}},mounted:function(){},methods:{initChart:function(){this.chart=u.a.init(this.$el),this.chart.setOption(d(this.newMember.data,this.logined.data,this.newMember.date))}},render:function(e){var t=e("div",{class:"dashboard-chart"});return t}},m=b,f=(a("626f"),a("2877")),g=Object(f["a"])(m,n,i,!1,null,"639ade1a",null),h=g.exports,p=a("20ca"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Jumbotron"},[a("el-carousel",{ref:"carousel",staticClass:"picture-screen",attrs:{direction:"vertical","indicator-position":"none"},on:{change:e.setPageBtn}},e._l(e.list,(function(e,t){return a("el-carousel-item",{key:t,style:{backgroundImage:"url('"+e.PicURL+"')"}})})),1),a("div",{staticClass:"picture-pagination-container"},[a("i",{staticClass:"el-icon-arrow-up",on:{click:function(t){return e.$refs.carousel.prev()}}}),a("div",{ref:"btns"},e._l(e.list,(function(t,n){return a("span",{key:n,class:{active:n===e.imgIndex},on:{click:function(t){return e.$refs.carousel.setActiveItem(n)}}},[e._v(e._s(n+1))])})),0),a("i",{staticClass:"el-icon-arrow-down",on:{click:function(t){return e.$refs.carousel.next()}}})])],1)},v=[],C={name:"Jumbotron",props:{list:{type:Array,required:!0}},data:function(){return{imgIndex:0}},methods:{setPageBtn:function(e){this.imgIndex=e;var t=this.$refs.btns,a=t.querySelectorAll("span")[e];a&&t.scroll({top:a.offsetTop-t.querySelector("span").offsetTop,left:0,behavior:"smooth"})}}},M=C,_=(a("6c57"),Object(f["a"])(M,y,v,!1,null,"19c5d809",null)),D=_.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-broad"},[a("div",{staticClass:"infos"},e._l(e.showList,(function(t,n){return a("div",{key:n,staticClass:"info-block"},[e.showList.length?a("div",{staticClass:"time"},[e._v(e._s(t.Title))]):e._e(),e.showList.length?a("div",{staticClass:"message"},[e._v(" "+e._s(t.Content)+" ")]):e._e()])})),0),a("Pagination",{staticClass:"pagination-row",attrs:{"current-page":e.Pagination.PageIndex,total:e.length,"page-size":e.Pagination.PageSize},on:{"update:currentPage":function(t){return e.$set(e.Pagination,"PageIndex",t)},"update:current-page":function(t){return e.$set(e.Pagination,"PageIndex",t)},"current-change":function(t){return e.changePage(e.Pagination.PageIndex)}}})],1)},L=[],w={name:"SystemBoard",props:{list:{type:Array,default:function(){return[]}},length:{type:Number,default:0}},data:function(){return{Pagination:{PageIndex:1,PageSize:3,TotalCount:0},showList:[]}},watch:{list:{handler:function(){this.changePage(this.Pagination.PageIndex)},deep:!0,immediate:!0}},methods:{changePage:function(e){this.showList=[];for(var t=e*this.Pagination.PageSize-3;t<e*this.Pagination.PageSize;t++){if(!this.list[t])break;this.showList.push({Title:this.list[t].Title,Content:this.list[t].Content})}}}},P=w,x=(a("1827"),Object(f["a"])(P,k,L,!1,null,"40e39ecf",null)),S=x.exports,A=a("b775");function B(){return Object(A["a"])({url:"/vue-element-admin/GetHomeReportAsync",method:"post"})}function R(){return Object(A["a"])({url:"/vue-element-admin/GetOperatingDataAsync",method:"post"})}var T=a("ad2b"),$=a("cffa"),I={name:"Dashboard",components:{Charts:h,Jumbotron:D,SystemBoard:S},data:function(){var e=this;return{updateTime:null,d_getData:Object(p["a"])((function(){e.getOperatingDataAsync()})),info:{RegeditMemberCnt:0,MemberCount:0,ActiveMemberCnt:0,TotalWinlose:0,AgentCommRate:0},systemList:[],listLength:0,LoginMemberByDay:{data:[],date:[]},RegeditMemberByDay:{data:[],date:[]},banner:[]}},computed:{sortInfo:function(){return c.a.chain(this.info).map((function(e,t){var a={};switch(t){case"RegeditMemberCnt":a.label="新注册",a.icon="register",a.val=e;break;case"MemberCount":a.label="会员数",a.icon="Members",a.val=e;break;case"ActiveMemberCnt":a.label="活跃会员",a.icon="monitor-3",a.val=e;break;case"TotalWinlose":a.label="输赢",a.icon="dividend",a.val=e;break;case"AgentCommRate":a.label="佣金比例",a.icon="commission",a.val=e+"%";break}return a})).filter((function(e){return e.label})).value()}},created:function(){this.getHomeReportAsync(),this.getOperatingDataAsync()},methods:{parseTime:T["a"],dashboardthousandFilter:function(e){if("新注册"===e.label||"会员数"===e.label||"活跃会员"===e.label||"佣金比例"===e.label)return e.val;e.val+="",isNaN(e.val)||""===e.val||(e.val=Number(e.val).toFixed(2),e.val+="");var t=e.val.split("."),a=/(\d{1,3})(?=(\d{3})+$)/g;return t[0].replace(a,"$1,")+(2===t.length?"."+t[1]:"")},getHomeReportAsync:function(){var e=this;B().then((function(t){var a=t.code,n=t.data,i=t.Message;if(2e4===a){null===n.WebBannerList?e.banner=[]:e.banner=n.WebBannerList,null===n.SystemInformationMarqueeList?e.systemList=[]:e.systemList=n.SystemInformationMarqueeList,e.LoginMemberByDay.data=[],e.LoginMemberByDay.date=[],e.RegeditMemberByDay.data=[],e.RegeditMemberByDay.date=[];for(var s=0;s<n.LoginMemberByDay.length;s++)e.LoginMemberByDay.data.push(n.LoginMemberByDay[s].MemberCount),e.LoginMemberByDay.date.push(e.parseTime(n.LoginMemberByDay[s].DataDate,"{d}日")),e.RegeditMemberByDay.data.push(n.RegeditMemberByDay[s].MemberCount),e.RegeditMemberByDay.date.push(e.parseTime(n.RegeditMemberByDay[s].DataDate,"{d}日"));e.$refs.chart.initChart(),e.listLength=e.systemList.length}else e.$notify({title:"提示",message:i})}))},getOperatingDataAsync:function(){var e=this;R().then((function(t){var a=t.code,n=t.data,i=t.Message;2e4===a?e.updateData(n.RegeditMemberCnt,n.MemberCount,n.ActiveMemberCnt,n.TotalWinlose,n.AgentCommRate):e.$notify({title:"提示",message:i})}))},updateData:function(e,t,a,n,i){this.updateTime=new Date,this.info={RegeditMemberCnt:0,MemberCount:0,ActiveMemberCnt:0,TotalWinlose:0,AgentCommRate:0},$["a"].to(this.info,{ease:"none",duration:1,RegeditMemberCnt:e,MemberCount:t,ActiveMemberCnt:a,TotalWinlose:n,AgentCommRate:i})}}},O=I,j=(a("50c1"),Object(f["a"])(O,s,r,!1,null,"fa25fbc4",null));t["default"]=j.exports},a955:function(e,t,a){},ad2b:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("53ca");a("ac1f"),a("5319"),a("d3b7"),a("25f0");function i(e,t){if(e){if(0===arguments.length)return null;e=e.replace(/-/g,"/").replace(/T/g," ").replace(/\.\d+/,"");var a,i=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(n["a"])(e)?a=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));var s={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=i.replace(/{(y|m|d|h|i|s|a)+}/g,(function(e,t){var a=s[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)}));return r}}},ce81:function(e,t,a){},da1d:function(e,t,a){}}]);