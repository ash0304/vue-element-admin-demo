(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bcc7b220"],{"3d8e":function(e,t,a){},"626f":function(e,t,a){"use strict";a("a955")},"8ce5":function(e,t,a){"use strict";a("3d8e")},9406:function(e,t,a){"use strict";a.r(t);var n,i,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Dashboard"},[a("div",{staticClass:"basic-block block1"},[e._m(0),a("div",{staticClass:"refresh-block"}),a("ul",e._l(e.sortInfo,(function(t,n){return a("li",{key:n},[a("span",[a("svg-icon",{attrs:{"icon-class":t.icon}}),e._v(e._s(t.label)+" "),a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[a("span",[e._v("试算当前可得的佣金比例, 每月佣金结算后重新计算")]),a("span",{attrs:{slot:"reference"},slot:"reference"},["佣金比例"===t.label?a("svg-icon",{attrs:{id:"q-hint","icon-class":"Warning"}}):e._e()],1)])],1),a("b",[e._v(e._s(e.dashboardthousandFilter(t)))])])})),0)]),a("div",{staticClass:"basic-block block2"},[a("div",{staticClass:"block-title"},[e._v("趋势分析")]),a("Charts",{ref:"chart",attrs:{"new-member":e.RegeditMemberByDay,logined:e.LoginMemberByDay}})],1),e._m(1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block-title"},[a("span",[e._v("营运数据")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blocks-row"},[a("div",{staticClass:"basic-block block3"},[a("div",{staticClass:"block-title system"},[e._v("系統公告")])]),a("div",{staticClass:"basic-block block4"})])}],o=(a("4de4"),a("d81d"),a("b680"),a("a9e3"),a("ac1f"),a("1276"),a("5319"),a("2ef0")),l=a.n(o),c=a("313e"),b=a.n(c),d=function(e,t,a){return{tooltip:{trigger:"axis"},dataZoom:[{type:"inside",start:0,end:100,minValueSpan:5}],grid:{left:35,right:15,bottom:50,height:"60%"},legend:{data:["新注册会员数","会员登录数"],right:10,itemGap:35,formatter:function(e){var t;return t="新注册会员数"===e?"{a|".concat(e,"}"):"{b|".concat(e,"}"),t},textStyle:{fontSize:13,rich:{a:{color:"#658dd4"},b:{color:"#bbbcf1"}}},icon:"circle"},xAxis:{type:"category",axisTick:{show:!1},axisLabel:{margin:15},axisLine:{lineStyle:{color:"#7f95c5"}},boundaryGap:!1,data:a},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{margin:15},axisLine:{lineStyle:{color:"#7f95c5"}},splitLine:{lineStyle:{color:"#dceaff"}},splitArea:{show:!0,areaStyle:{color:["#fff","#F1F6FF"]}}},series:[{symbol:"circle",symbolSize:10,name:"新注册会员数",data:e,type:"line",lineStyle:{color:"#658dd4",width:3},itemStyle:{color:"#658dd4"}},{symbol:"circle",symbolSize:10,name:"会员登录数",data:t,type:"line",lineStyle:{color:"#bbbcf1",width:3},itemStyle:{color:"#bbbcf1"}}]}},u={name:"Charts",props:{newMember:{type:Object,default:function(){return{}}},logined:{type:Object,default:function(){return{}}}},data:function(){return{chart:null}},watch:{"$store.state.app.size":function(){this.chart.resize()}},mounted:function(){},methods:{initChart:function(){this.chart=b.a.init(this.$el),this.chart.setOption(d(this.newMember.data,this.logined.data,this.newMember.date))}},render:function(e){var t=e("div",{class:"dashboard-chart"});return t}},m=u,f=(a("626f"),a("2877")),y=Object(f["a"])(m,n,i,!1,null,"639ade1a",null),h=y.exports,g=a("b775");function v(){return Object(g["a"])({url:"/vue-element-admin/GetHomeReportAsync",method:"post"})}var p=a("ad2b"),M={name:"Dashboard",components:{Charts:h},data:function(){return{info:{RegeditMemberCnt:0,MemberCount:0,ActiveMemberCnt:0,TotalWinlose:0,AgentCommRate:0},LoginMemberByDay:{data:[],date:[]},RegeditMemberByDay:{data:[],date:[]}}},computed:{sortInfo:function(){return l.a.chain(this.info).map((function(e,t){var a={};switch(t){case"RegeditMemberCnt":a.label="新注册",a.icon="register",a.val=e;break;case"MemberCount":a.label="会员数",a.icon="Members",a.val=e;break;case"ActiveMemberCnt":a.label="活跃会员",a.icon="monitor-3",a.val=e;break;case"TotalWinlose":a.label="输赢",a.icon="dividend",a.val=e;break;case"AgentCommRate":a.label="佣金比例",a.icon="commission",a.val=e+"%";break}return a})).filter((function(e){return e.label})).value()}},created:function(){this.getHomeReportAsync()},methods:{parseTime:p["a"],dashboardthousandFilter:function(e){if("新注册"===e.label||"会员数"===e.label||"活跃会员"===e.label||"佣金比例"===e.label)return e.val;e.val+="",isNaN(e.val)||""===e.val||(e.val=Number(e.val).toFixed(2),e.val+="");var t=e.val.split("."),a=/(\d{1,3})(?=(\d{3})+$)/g;return t[0].replace(a,"$1,")+(2===t.length?"."+t[1]:"")},getHomeReportAsync:function(){var e=this;v().then((function(t){var a=t.code,n=t.data,i=t.Message;if(2e4===a){if(null===n.WebBannerList)e.banner=[];else{var r="mobile"===e.device?2:1;e.banner=l.a.map(n.WebBannerList.filter((function(e){return e.DeviceCategoryID===r})),(function(e){return e.PicURL}))}null===n.SystemInformationMarqueeList?e.systemList=[]:e.systemList=n.SystemInformationMarqueeList,e.LoginMemberByDay.data=[],e.LoginMemberByDay.date=[],e.RegeditMemberByDay.data=[],e.RegeditMemberByDay.date=[];for(var s=0;s<n.LoginMemberByDay.length;s++)e.LoginMemberByDay.data.push(n.LoginMemberByDay[s].MemberCount),e.LoginMemberByDay.date.push(e.parseTime(n.LoginMemberByDay[s].DataDate,"{d}日")),e.RegeditMemberByDay.data.push(n.RegeditMemberByDay[s].MemberCount),e.RegeditMemberByDay.date.push(e.parseTime(n.RegeditMemberByDay[s].DataDate,"{d}日"));e.$refs.chart.initChart(),e.listLength=e.systemList.length}else e.$notify({title:"提示",message:i})}))}}},D=M,C=(a("8ce5"),Object(f["a"])(D,r,s,!1,null,"790c81d2",null));t["default"]=C.exports},a955:function(e,t,a){},ad2b:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("53ca");a("ac1f"),a("5319"),a("d3b7"),a("25f0");function i(e,t){if(e){if(0===arguments.length)return null;e=e.replace(/-/g,"/").replace(/T/g," ").replace(/\.\d+/,"");var a,i=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(n["a"])(e)?a=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},s=i.replace(/{(y|m|d|h|i|s|a)+}/g,(function(e,t){var a=r[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)}));return s}}}}]);